{{ form.hidden_tag() }}

{% for field in form if field.type not in ['HiddenField', 'CSRFTokenField'] %}
    <div>
        {% if field.type == 'FieldList' %}
            {% for subform in field %}
                {% for subfield in subform if subfield.type %}
                    <div>
                        {% if subfield.type not in ['HiddenField', 'CSRFTokenField'] %}
                            {{ subfield.label }}
                            {{ subfield }}
                        {% else %}
                            {{ subfield }}
                        {% endif %}
                    </div>  
                {% endfor %}
            {% endfor %}
        {% else %}
            {{field.label}}
            {{field}}
        {% endif %}
        {% if field.errors %}
            {% for error in field.errors %}
                {{error}}
            {% endfor %}
        {% endif %}
    </div>
{% endfor %}
<ul>
    {% for error in form.form_errors %}
        <li>{{ error }}</li>
    {% endfor %}
</ul>
